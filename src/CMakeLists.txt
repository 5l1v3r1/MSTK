
file (GLOB FILES base/*.c)
foreach (FILE ${FILES})
  set (basefiles ${basefiles} ${FILE})
endforeach ()

file (GLOB FILES hilev/*.c)
foreach (FILE ${FILES})
  get_filename_component(RELFILE ${FILE} NAME) 
  if (${RELFILE} MATCHES ExodusII)
    if (ENABLE_ExodusII)
      set (hilevfiles ${hilevfiles} ${FILE})
    endif ()
  else ()
    set (hilevfiles ${hilevfiles} ${FILE})
  endif ()
endforeach ()

file (GLOB FILES io/*.c)
foreach (FILE ${FILES})
  set (iofiles ${iofiles} ${FILE})
endforeach ()

file (GLOB FILES misc/*.c)
foreach (FILE ${FILES})
  set (miscfiles ${miscfiles} ${FILE})
endforeach ()

file (GLOB FILES util/*.c)
foreach (FILE ${FILES})
  set (utilfiles ${utilfiles} ${FILE})
endforeach ()

file (GLOB FILES par/*.c)
foreach (FILE ${FILES})
  get_filename_component(RELFILE ${FILE} NAME) 
  if (${RELFILE} MATCHES Metis)
    if (ENABLE_METIS)
      set (parfiles ${parfiles} ${FILE})
    endif ()
  elseif (${RELFILE} MATCHES Zoltan)
    if (ENABLE_ZOLTAN)
      set (parfiles ${parfiles} ${FILE})
    endif ()
  else ()
    set (parfiles ${parfiles} ${FILE})
  endif ()
endforeach ()

set(mstkfiles ${basefiles} ${hilevfiles} ${iofiles} ${miscfiles} ${utilfiles} ${parfiles} PARENT_SCOPE)

